# Package Tier Definitions for /init-documentation
# Determines documentation depth based on package importance
#
# Tiers:
#   critical  - 3-5 pages, full API coverage, examples
#   important - 1-2 pages, main APIs
#   utility   - Consolidated into utilities.md with brief descriptions
#   patterns  - Link to docs, document local usage patterns
#
# Override with .planning/.config/package-tiers.local.yaml

version: "1.0"

critical:
  frameworks:
    frontend:
      - react
      - vue
      - angular
      - svelte
      - solid
      - preact
    backend:
      - express
      - fastify
      - hono
      - koa
      - nestjs
      - django
      - flask
      - fastapi
      - gin
      - echo
      - fiber
      - laravel
      - symfony
      - spring-boot
    fullstack:
      - nextjs
      - nuxt
      - remix
      - wasp
      - redwood
      - sveltekit
      - astro
      - t3-stack
    api:
      - trpc
      - graphql
      - apollo-server
      - type-graphql

  data:
    orm:
      - prisma
      - drizzle
      - typeorm
      - sequelize
      - sqlalchemy
      - gorm
      - diesel
    database:
      - postgres
      - mysql
      - mongodb
      - redis
      - sqlite
      - supabase
      - firebase

important:
  validation:
    - zod
    - yup
    - joi
    - class-validator
    - valibot

  http:
    - axios
    - ky
    - got
    - node-fetch
    - ofetch

  state:
    - zustand
    - redux
    - redux-toolkit
    - mobx
    - jotai
    - recoil
    - xstate
    - valtio

  data-fetching:
    - tanstack-query
    - swr
    - apollo-client
    - urql

  styling:
    - tailwindcss
    - styled-components
    - emotion
    - sass
    - css-modules
    - vanilla-extract

  testing:
    - jest
    - vitest
    - mocha
    - pytest
    - playwright
    - cypress
    - testing-library

  forms:
    - react-hook-form
    - formik
    - final-form

  tables:
    - tanstack-table
    - ag-grid
    - react-table

  dates:
    - date-fns
    - dayjs
    - luxon
    - moment

  auth:
    - passport
    - lucia
    - next-auth
    - clerk
    - auth0
    - keycloak
    - supabase-auth
    - firebase-auth

  payments:
    - stripe
    - lemonsqueezy
    - paddle

  email:
    - resend
    - nodemailer
    - react-email
    - sendgrid

  file-upload:
    - uploadthing
    - multer
    - formidable

  realtime:
    - socket.io
    - pusher
    - ably
    - liveblocks

  monorepo:
    - turborepo
    - nx
    - lerna

  bundlers:
    - vite
    - webpack
    - esbuild
    - rollup
    - parcel

patterns:
  # These are documented differently:
  # - Link to official docs
  # - Document local usage patterns from codebase-discovery
  # - Don't fetch/summarize entire doc sites

  component-libraries:
    - shadcn/ui
    - radix-ui
    - headless-ui
    - ark-ui
    - react-aria

  icon-libraries:
    - lucide-react
    - heroicons
    - phosphor-icons
    - tabler-icons

  "@testing-library/*": tier-2
  "eslint-*": tier-3
  "@types/*": skip
  "*-plugin": tier-3
  "*-loader": tier-3

utility:
  # Everything not listed above defaults to utility tier
  # Consolidated into utilities.md with:
  # - Package name and version
  # - One-line description
  # - Link to npm/docs
  description: "Packages not explicitly listed are treated as utilities"

# Framework-specific overrides
# When a framework is detected, these packages get promoted
framework_overrides:
  wasp:
    # Wasp uses these internally, document Wasp-specific patterns
    promote_context:
      - prisma      # Wasp wraps Prisma
      - react       # Frontend
      - express     # Backend (internal)
    docs_source: "https://wasp-lang.dev/docs"

  nextjs:
    promote_context:
      - next-auth
      - next-image
      - next-font
    docs_source: "https://nextjs.org/docs"

  remix:
    promote_context:
      - remix-validated-form
      - remix-auth
    docs_source: "https://remix.run/docs"

# NEW: Category inference rules
categories:
  testing: ["test", "jest", "mocha", "cypress", "playwright"]
  linting: ["lint", "eslint", "prettier", "stylelint"]
  bundling: ["webpack", "vite", "rollup", "esbuild", "parcel"]